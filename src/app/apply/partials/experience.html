<div class="container-fluid profile experience">
  <form name="experienceForm" class="row-fluid" novalidate>
    <div id="profession">
      <div class="container-fluid experience-header">
        <p class="pull-left"  style="font-size: 16px"><strong>工作经历</strong></p>
        <div class="action pull-right">
          <a href="" ng-click="addExperience()">
            <img src="images/add_button.png"/>
          </a>
        </div>
      </div>
      <div class="container-fluid">
        <div class="exp-entry row" ng-repeat="experience in experiences" ng-init="!experience.company_name && (isInEditing = true)">
          <div class="col-xs-9" ng-show="!isInEditing">
            <p class="where-and-when">
              <span class="where">{{ experience.company_name }}</span>
              <br />
              <span class="duration">{{ experience.startDate.year }}-{{experience.startDate.month}} </span>
              <span class="duration" ng-show="experience.endDate.present">至今</span>
              <span class="duration" ng-hide="experience.endDate.present">- {{ experience.endDate.year }}-{{experience.endDate.month}}</span>
            </p>
            <p class="title"><strong>{{ experience.title }}</strong></p>
            <p class="muted description">{{ experience.description }}</p>
          </div>
          <div class="edit-region col-xs-12" ng-show="isInEditing">
            <label>
              公司：
              <span class="required-flag" id="req_1">*</span>
            </label>
            <input class="form-control" type="text" ng-model="experience.company_name" required />
            <div style="display: block;width: 100%;height: 34px;margin-top: 12px;font-size: 14px;line-height: 1.42857143;">
              <label>从 </label>
              <select class="select-control" ng-model="experience.startDate.year" ng-options="year for year in yearoptions" ng-required="true"></select>
              <select class="select-control" ng-model="experience.startDate.month" ng-options="month for month in monthoptions" ng-required="true"></select>
              <label>至 </label>
              <select class="select-control" ng-model="experience.endDate.year" ng-options="year for year in yearoptions" ng-required="true" ng-hide="experience.endDate.present"></select>
              <select class="select-control" ng-model="experience.endDate.month" ng-options="month for month in monthoptions" ng-required="true" ng-hide="experience.endDate.present"></select>
              <input class="checkbox-control" type="checkbox" ng-model="experience.endDate.present"/>
              <label>至今</label>
            </div>
            <label>
              公司网站：
            </label>
            <input class="form-control" type="text" ng-model="experience.website" />
            <label>
              职位：
              <span class="required-flag" id="req_1">*</span>
            </label>
            <input class="form-control" type="text" ng-model="experience.title" required />
            <label>
              工作描述：
              <span class="required-flag" id="req_1">*</span>
            </label>
            <textarea class="form-control" rows="3" ng-model="experience.description" required></textarea>
            <br />
            <div class="pull-right" ng-click="saveExperience(experience) && (isInEditing = false)">
              <button class="btn-sm btn-available btn-profile">保存</button>
            </div>
          </div>
          <div class="col-md-3 text-right btns">
            <div class="icon-edit" ng-show="!isInEditing" ng-click="isInEditing = true"></div>
            <!--<button class="btn-sm btn-primary btn-profile" ng-show="!isInEditing" ng-click="isInEditing = true">M</button>-->
            <!--<button class="btn-sm btn-primary btn-profile" ng-click="removeExperience(experience)">D</button>-->
            <div class="icon-del" ng-show="!isInEditing" ng-click="removeExperience(experience)"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="education">
      <div class="container-fluid experience-header">
        <p class="pull-left" style="font-size: 16px"><strong>教育背景</strong></p>
        <div class="action pull-right">
          <a href="" ng-click="addEducation()">
            <img src="images/add_button.png"/>
          </a>

        </div>
      </div>
      <div class="container-fluid">
        <div class="exp-entry row" ng-repeat="education in educations" ng-init="!education.school && (isInEditing = true)">
          <div class="col-xs-9" ng-show="!isInEditing">
            <p class="where-and-when">
              <span class="where">{{ education.school }}</span>
              <span class="duration">{{ education.startDate | date:'yyyy-MM-dd'}} - {{ education.endDate | date:'yyyy-MM-dd'}}</span>
            </p>
            <p class="title"><strong>{{ education.degree }}</strong></p>
            <p class="muted description">{{ education.description }}</p>
          </div>
          <div class="edit-region col-xs-12" ng-show="isInEditing">
            <label>
              学校：
              <span class="required-flag" id="req_1">*</span>
            </label>
            <input class="form-control" type="text" ng-model="education.school" required>
            <div style="display: block;width: 100%;height: 34px;margin-top: 12px;font-size: 14px;line-height: 1.42857143;">
              <label>从 </label>
              <select class="select-control" ng-model="education.startDate.year" ng-options="year for year in yearoptions" ng-required="true"></select>
              <select class="select-control" ng-model="education.startDate.month" ng-options="month for month in monthoptions" ng-required="true"></select>
              <label>至 </label>
              <select class="select-control" ng-model="education.endDate.year" ng-options="year for year in yearoptions" ng-required="true" ng-hide="education.endDate.present"></select>
              <select class="select-control" ng-model="education.endDate.month" ng-options="month for month in monthoptions" ng-required="true" ng-hide="education.endDate.present"></select>
              <input class="checkbox-control" type="checkbox" ng-model="education.endDate.present"/>
              <label>至今</label>
            </div>
            <br>
            <label>
              主修以及学历：
              <span class="required-flag" id="req_1">*</span>
            </label>
            <input class="form-control" type="text" ng-model="education.degree" required>
            <label>
              所获奖项：
              <span class="required-flag" id="req_1">*</span>
            </label>
            <textarea class="form-control" rows="3" ng-model="education.description" required></textarea>
            <br />
            <div class="pull-right" ng-click="saveEducation(education) && (isInEditing = false)">
              <button class="btn-sm btn-available btn-profile">保存</button>
            </div>
          </div>
          <div class="col-md-3 text-right btns">
            <div class="icon-edit" ng-show="!isInEditing" ng-click="isInEditing = true"></div>
            <div class="icon-del"  ng-show="!isInEditing" ng-click="removeEducation(education)"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="text-right pre-next">
      <button class="btn-md btn-available" ng-click="backToLastState($state.current.name)">上一步</button>
      <button type="submit" ng-disabled="experienceForm.$invalid" class="btn-md btn-available" ng-click="submitExperience()">下一步</button>
    </div>
  </form>
</div>
